<?xml version="1.0" encoding="utf-8"?>
<X3D profile='H3DAPI' version='1.4'>
	<head>
		<meta name='title' content='FrameBufferTextureGenerator_texturearray.x3d'/>
		<meta name='description' content='H3DAPI FrameBufferTextureGenerator example. It shows generate a 2D texture array from the rendering ONE sub-scene (using the geometry shader and gl_Layer index) and display them on to separate rectangles.  This example uses H3DAPI node(s) and runs on H3DAPI-supported browsers only. Visit http://www.h3d.org for more information and to download an H3DAPI-
      compatible browser. '/>
		<meta name='author' content='SenseGraphics AB, 2006-2014'/>
	</head>

	<Scene>
		<Viewpoint position='0.0 -0.2 0.8' />

		<Group>
			<Background skyColor="0.0 0.0 0.0" />

			<FrameBufferTextureGenerator DEF="GEN" 
				outputTextureType="2D"  
				generateColorTextures='"RGBA", "RGBA", "RGBA", "RGBA", "RGBA", "RGBA", "RGBA", "RGBA"' 
				splitScene="true"
				useSpecifiedClearColor="true"
				generateDepthTexture="false"
				clearColors= " 	0 0.5 0.5 1, 	0.5 0 0.5 1, 	0.5 0.5 0 1, 	0.5 0 0 1, 
								0 1 1 1, 		1 0 1 1, 		1 1 0 1, 		1 0 0 1"	>
					<Shape>
						<Appearance>
							<RenderProperties depthTestEnabled="false" />
						</Appearance>
						<Sphere radius="0.1" />
					</Shape>
					<Shape>
						<Appearance>
							<RenderProperties depthTestEnabled="false" />
						</Appearance>
						<Sphere radius="0.1" />
					</Shape>
					<Shape>
						<Appearance>
							<RenderProperties depthTestEnabled="false" />
						</Appearance>
						<Sphere radius="0.1" />
					</Shape>
					<Shape>
						<Appearance>
							<RenderProperties depthTestEnabled="false" />
						</Appearance>
						<Sphere radius="0.1" />
					</Shape>
					<Shape>
						<Appearance>
							<RenderProperties depthTestEnabled="false" />
						</Appearance>
						<Sphere radius="0.1" />
					</Shape>
					<Shape>
						<Appearance>
							<RenderProperties depthTestEnabled="false" />
						</Appearance>
						<Sphere radius="0.1" />
					</Shape>
					<Shape>
						<Appearance>
							<RenderProperties depthTestEnabled="false" />
						</Appearance>
						<Sphere radius="0.1" />
					</Shape>
					<Shape>
						<Appearance>
							<RenderProperties depthTestEnabled="false" />
						</Appearance>
						<Sphere radius="0.1" />
					</Shape>
			</FrameBufferTextureGenerator>

			<Transform translation="-0.4 0 0">
				<Shape>
					<Appearance DEF="APP0" >
						<RenderTargetTexture index="0">
							<FrameBufferTextureGenerator USE="GEN" containerField="generator" />
						</RenderTargetTexture>
					</Appearance>
					<Rectangle2D size="0.1 0.1"/>
				</Shape>
			</Transform>

			<Transform translation="-0.3 0 0">
				<Shape>
					<Appearance DEF="APP1" >
						<RenderTargetTexture index="1">
							<FrameBufferTextureGenerator USE="GEN" containerField="generator" />
						</RenderTargetTexture>
					</Appearance>
					<Rectangle2D size="0.1 0.1"/>
				</Shape>
			</Transform>
Â´
			<Transform translation="-0.2 0 0">
				<Shape>
					<Appearance DEF="APP2" >
						<RenderTargetTexture index="2">
							<FrameBufferTextureGenerator USE="GEN" containerField="generator" />
						</RenderTargetTexture>
					</Appearance>
					<Rectangle2D size="0.1 0.1"/>
				</Shape>
			</Transform>

			<Transform translation="-0.1 0 0">
				<Shape>
					<Appearance DEF="APP3" >
						<RenderTargetTexture index="3">
							<FrameBufferTextureGenerator USE="GEN" containerField="generator" />
						</RenderTargetTexture>
					</Appearance>
					<Rectangle2D size="0.1 0.1"/>
				</Shape>
			</Transform>

			<Transform translation="0.0 0 0">
				<Shape>
					<Appearance DEF="APP4" >
						<RenderTargetTexture index="4">
							<FrameBufferTextureGenerator USE="GEN" containerField="generator" />
						</RenderTargetTexture>
					</Appearance>
					<Rectangle2D size="0.1 0.1"/>
				</Shape>
			</Transform>

			<Transform translation="0.1 0 0">
				<Shape>
					<Appearance DEF="APP5" >
						<RenderTargetTexture index="5">
							<FrameBufferTextureGenerator USE="GEN" containerField="generator" />
						</RenderTargetTexture>
					</Appearance>
					<Rectangle2D size="0.1 0.1"/>
				</Shape>
			</Transform>

			<Transform translation="0.2 0 0">
				<Shape>
					<Appearance DEF="APP6" >
						<RenderTargetTexture index="6">
							<FrameBufferTextureGenerator USE="GEN" containerField="generator" />
						</RenderTargetTexture>
					</Appearance>
					<Rectangle2D size="0.1 0.1"/>
				</Shape>
			</Transform>

			<Transform translation="0.3 0 0">
				<Shape>
					<Appearance DEF="APP7" >
						<RenderTargetTexture index="7">
							<FrameBufferTextureGenerator USE="GEN" containerField="generator" />
						</RenderTargetTexture>
					</Appearance>
					<Rectangle2D size="0.1 0.1"/>
				</Shape>
			</Transform>
		</Group>
	</Scene>
</X3D>
